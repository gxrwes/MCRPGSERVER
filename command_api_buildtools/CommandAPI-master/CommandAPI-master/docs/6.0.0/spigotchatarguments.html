<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js rust">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Spigot chat arguments - CommandAPI Documentation v6.0.0</title>
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/fontawesome.css">
        <link rel="stylesheet" href="FontAwesome/css/brands.css">
        <link rel="stylesheet" href="FontAwesome/css/solid.css">
        
        <link rel="stylesheet" href="fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
        <link rel="stylesheet" href="style.css">
        

        
        <!-- MathJax -->
        <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "rust";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('rust')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="intro.html">Introduction</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Server Owner Usage</li><li class="chapter-item expanded "><a href="installation.html"><strong aria-hidden="true">1.</strong> Installation for server owners</a></li><li class="chapter-item expanded "><a href="config.html"><strong aria-hidden="true">2.</strong> Configuration for server owners</a></li><li class="chapter-item expanded "><a href="conversionforowners.html"><strong aria-hidden="true">3.</strong> Command conversion</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="conversionforownerssingle.html"><strong aria-hidden="true">3.1.</strong> Single command conversion</a></li><li class="chapter-item "><a href="conversionforownerssingleargs.html"><strong aria-hidden="true">3.2.</strong> Single command conversion (with arguments)</a></li><li class="chapter-item "><a href="conversionentityselectors.html"><strong aria-hidden="true">3.3.</strong> Entity selectors</a></li></ol></li><li class="chapter-item expanded "><a href="skippingproxysenders.html"><strong aria-hidden="true">4.</strong> Skipping proxy senders</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">CommandAPI Setup</li><li class="chapter-item expanded "><a href="quickstart.html"><strong aria-hidden="true">5.</strong> Setting up your development environment</a></li><li class="chapter-item expanded "><a href="shading.html"><strong aria-hidden="true">6.</strong> Shading the CommandAPI in your plugins</a></li><li class="chapter-item expanded "><a href="annotationsetup.html"><strong aria-hidden="true">7.</strong> Using the annotation system</a></li><li class="chapter-item expanded affix "><li class="part-title">Creating Commands</li><li class="chapter-item expanded "><a href="commandregistration.html"><strong aria-hidden="true">8.</strong> Command registration</a></li><li class="chapter-item expanded "><a href="commandexecutors.html"><strong aria-hidden="true">9.</strong> Command executors</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="normalexecutors.html"><strong aria-hidden="true">9.1.</strong> Normal command executors</a></li><li class="chapter-item "><a href="proxysender.html"><strong aria-hidden="true">9.2.</strong> Proxied commandsenders</a></li><li class="chapter-item "><a href="native.html"><strong aria-hidden="true">9.3.</strong> Native commandsenders</a></li><li class="chapter-item "><a href="resultingcommandexecutors.html"><strong aria-hidden="true">9.4.</strong> Resulting command executors</a></li><li class="chapter-item "><a href="commandfailures.html"><strong aria-hidden="true">9.5.</strong> Handling command failures</a></li></ol></li><li class="chapter-item expanded "><a href="arguments.html"><strong aria-hidden="true">10.</strong> Arguments (in general)</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="argumentsuggestions.html"><strong aria-hidden="true">10.1.</strong> Argument suggestions</a></li><li class="chapter-item "><a href="safeargumentsuggestions.html"><strong aria-hidden="true">10.2.</strong> Safely typed argument suggestions</a></li><li class="chapter-item "><a href="tooltips.html"><strong aria-hidden="true">10.3.</strong> Argument suggestions with tooltips</a></li><li class="chapter-item "><a href="listed.html"><strong aria-hidden="true">10.4.</strong> Listed arguments</a></li></ol></li><li class="chapter-item expanded "><a href="argumenttypes.html"><strong aria-hidden="true">11.</strong> Argument types</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="primitivearguments.html"><strong aria-hidden="true">11.1.</strong> Primitive arguments</a></li><li class="chapter-item "><a href="rangedarguments.html"><strong aria-hidden="true">11.2.</strong> Ranged arguments</a></li><li class="chapter-item "><a href="stringarguments.html"><strong aria-hidden="true">11.3.</strong> String arguments</a></li><li class="chapter-item "><a href="positionargs.html"><strong aria-hidden="true">11.4.</strong> Positional arguments</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="locationargument.html"><strong aria-hidden="true">11.4.1.</strong> Location arguments</a></li><li class="chapter-item "><a href="rotationargs.html"><strong aria-hidden="true">11.4.2.</strong> Rotation arguments</a></li><li class="chapter-item "><a href="axisarg.html"><strong aria-hidden="true">11.4.3.</strong> AxisArguments</a></li></ol></li><li class="chapter-item expanded "><a href="chatarguments.html"><strong aria-hidden="true">11.5.</strong> Chat arguments</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="spigotchatarguments.html" class="active"><strong aria-hidden="true">11.5.1.</strong> Spigot chat arguments</a></li><li class="chapter-item "><a href="adventurechatarguments.html"><strong aria-hidden="true">11.5.2.</strong> Adventure chat arguments</a></li></ol></li><li class="chapter-item "><a href="entityarguments.html"><strong aria-hidden="true">11.6.</strong> Entity &amp; player arguments</a></li><li class="chapter-item "><a href="scoreboardargs.html"><strong aria-hidden="true">11.7.</strong> Scoreboard arguments</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="scoreboardarguments.html"><strong aria-hidden="true">11.7.1.</strong> Scoreboard arguments</a></li><li class="chapter-item "><a href="objectivearguments.html"><strong aria-hidden="true">11.7.2.</strong> Objective arguments</a></li><li class="chapter-item "><a href="teamarguments.html"><strong aria-hidden="true">11.7.3.</strong> Team arguments</a></li></ol></li><li class="chapter-item "><a href="miscargs.html"><strong aria-hidden="true">11.8.</strong> Miscellaneous arguments</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="angleargument.html"><strong aria-hidden="true">11.8.1.</strong> Angle arguments</a></li><li class="chapter-item "><a href="advancementargument.html"><strong aria-hidden="true">11.8.2.</strong> Advancement arguments</a></li><li class="chapter-item "><a href="biomeargument.html"><strong aria-hidden="true">11.8.3.</strong> Biome arguments</a></li><li class="chapter-item "><a href="blockstatearguments.html"><strong aria-hidden="true">11.8.4.</strong> BlockState arguments</a></li><li class="chapter-item "><a href="enchantmentargument.html"><strong aria-hidden="true">11.8.5.</strong> Enchantment arguments</a></li><li class="chapter-item "><a href="environmentargs.html"><strong aria-hidden="true">11.8.6.</strong> Environment arguments</a></li><li class="chapter-item "><a href="itemstackarguments.html"><strong aria-hidden="true">11.8.7.</strong> Itemstack arguments</a></li><li class="chapter-item "><a href="loottableargument.html"><strong aria-hidden="true">11.8.8.</strong> LootTable argument</a></li><li class="chapter-item "><a href="mathoperationarguments.html"><strong aria-hidden="true">11.8.9.</strong> MathOperation arguments</a></li><li class="chapter-item "><a href="particlearguments.html"><strong aria-hidden="true">11.8.10.</strong> Particle arguments</a></li><li class="chapter-item "><a href="potionarguments.html"><strong aria-hidden="true">11.8.11.</strong> Potion effect arguments</a></li><li class="chapter-item "><a href="recipeargument.html"><strong aria-hidden="true">11.8.12.</strong> Recipe arguments</a></li><li class="chapter-item "><a href="soundargument.html"><strong aria-hidden="true">11.8.13.</strong> Sound arguments</a></li><li class="chapter-item "><a href="timeargs.html"><strong aria-hidden="true">11.8.14.</strong> Time arguments</a></li><li class="chapter-item "><a href="uuidargs.html"><strong aria-hidden="true">11.8.15.</strong> UUID arguments</a></li></ol></li><li class="chapter-item "><a href="predicateargs.html"><strong aria-hidden="true">11.9.</strong> Predicate arguments</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="blockpredicateargs.html"><strong aria-hidden="true">11.9.1.</strong> Block predicate arguments</a></li><li class="chapter-item "><a href="itemstackpredicateargs.html"><strong aria-hidden="true">11.9.2.</strong> ItemStack predicate arguments</a></li></ol></li><li class="chapter-item "><a href="nbtarguments.html"><strong aria-hidden="true">11.10.</strong> NBT arguments</a></li><li class="chapter-item "><a href="litargs.html"><strong aria-hidden="true">11.11.</strong> Literal arguments</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="literalarguments.html"><strong aria-hidden="true">11.11.1.</strong> Literal arguments</a></li><li class="chapter-item "><a href="multilitargs.html"><strong aria-hidden="true">11.11.2.</strong> Multi literal arguments</a></li></ol></li><li class="chapter-item "><a href="customarguments.html"><strong aria-hidden="true">11.12.</strong> Custom arguments</a></li></ol></li><li class="chapter-item expanded "><a href="functions.html"><strong aria-hidden="true">12.</strong> Functions &amp; Tags</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="functionsetup.html"><strong aria-hidden="true">12.1.</strong> Setting up functions &amp; tags</a></li><li class="chapter-item "><a href="simplefunctionwrapper.html"><strong aria-hidden="true">12.2.</strong> The SimpleFunctionWrapper class</a></li><li class="chapter-item "><a href="functionwrapper.html"><strong aria-hidden="true">12.3.</strong> The FunctionWrapper class</a></li><li class="chapter-item "><a href="functionarguments.html"><strong aria-hidden="true">12.4.</strong> Function arguments</a></li></ol></li><li class="chapter-item expanded "><a href="permissions.html"><strong aria-hidden="true">13.</strong> Permissions</a></li><li class="chapter-item expanded "><a href="requirements.html"><strong aria-hidden="true">14.</strong> Requirements</a></li><li class="chapter-item expanded "><a href="aliases.html"><strong aria-hidden="true">15.</strong> Aliases</a></li><li class="chapter-item expanded "><a href="subcommands.html"><strong aria-hidden="true">16.</strong> Subcommands</a></li><li class="chapter-item expanded affix "><li class="part-title">Annotation-based Commands</li><li class="chapter-item expanded "><a href="annotationsintro.html"><strong aria-hidden="true">17.</strong> Annotation-based commands</a></li><li class="chapter-item expanded "><a href="annotations.html"><strong aria-hidden="true">18.</strong> Annotations</a></li><li class="chapter-item expanded "><a href="registeringannotations.html"><strong aria-hidden="true">19.</strong> Registering annotation-based commands</a></li><li class="chapter-item expanded affix "><li class="part-title">CommandAPI Utilities</li><li class="chapter-item expanded "><a href="conversion.html"><strong aria-hidden="true">20.</strong> Command conversion</a></li><li class="chapter-item expanded affix "><li class="part-title">Internal CommandAPI</li><li class="chapter-item expanded "><a href="internal.html"><strong aria-hidden="true">21.</strong> Internal CommandAPI</a></li><li class="chapter-item expanded "><a href="brigadier.html"><strong aria-hidden="true">22.</strong> Brigadier + CommandAPI</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Java Tips</li><li class="chapter-item expanded "><a href="predicatetips.html"><strong aria-hidden="true">23.</strong> Predicate tips</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">CommandAPI Contribution</li><li class="chapter-item expanded "><a href="contributionintro.html"><strong aria-hidden="true">24.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="projectstructure.html"><strong aria-hidden="true">25.</strong> Project Structure</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><a href="upgrading.html">Upgrading guide</a></li><li class="chapter-item expanded affix "><a href="faq.html">FAQ</a></li><li class="chapter-item expanded affix "><a href="incompatibleversions.html">Incompatible version information</a></li><li class="chapter-item expanded affix "><a href="troubleshooting.html">Troubleshooting</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><a href="afterword.html">Afterword</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fas fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fas fa-palette"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="skepter">Skepter Likes Purple</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fas fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">CommandAPI Documentation v6.0.0</h1>

                    <div class="right-buttons">
                        <a href="https://www.jorel.dev/CommandAPI/" title="Back to main CommandAPI page" aria-label="Back to main CommandAPI page">
                            <i id="home-button" class="fas fa-home"></i>
                        </a>
                        <a href="https://ko-fi.com/jorelali" title="Donate (ko-fi)" aria-label="Donate (ko-fi)">
                            <i id="donate-button" class="fas fa-donate"></i>
                        </a>
                        <a href="https://discord.com/invite/G4SzSxZ" title="Discord" aria-label="Discord">
                            <i id="discord-button" class="fab fa-discord"></i>
                        </a>
                        
                        <a href="https://github.com/JorelAli/CommandAPI" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fab fa-github"></i>
                        </a>
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <!-- Page table of contents -->
                        <div class="sidetoc"><nav class="pagetoc"></nav></div>
                        
                        <h1><a class="header" href="#spigot-chat-arguments" id="spigot-chat-arguments">Spigot chat arguments</a></h1>
<blockquote>
<p><strong>Developer's Note:</strong></p>
<p>The two following classes, <code>ChatComponentArgument</code> and <code>ChatArgument</code> depend on a <a href="https://www.spigotmc.org/">Spigot</a> based server. This means that these arguments will not work on a non-Spigot based server, such as CraftBukkit. If you use this class on a non-Spigot based server, it will throw a <code>SpigotNotFoundException</code></p>
</blockquote>
<h2><a class="header" href="#chat-component-argument" id="chat-component-argument">Chat component argument</a></h2>
<p>The <code>ChatComponentArgument</code> class accepts raw chat-based JSON as valid input. Despite being regular JSON, it <em>must</em> conform to the standard declared <a href="https://minecraft.gamepedia.com/Raw_JSON_text_format">here</a>, which consists of JSON that has a limited subset of specific keys (In other words, you can have a JSON object that has the key <code>text</code>, but not one that has the key <code>blah</code>).</p>
<p>This is converted into Spigot's <code>BaseComponent[]</code>, which can be used for the following:</p>
<ul>
<li>
<p>Broadcasting messages to all players on the server using:</p>
<pre><code class="language-java">Bukkit.getServer().spigot().broadcast(BaseComponent[]);
</code></pre>
</li>
<li>
<p>Adding and setting pages to books using <code>BookMeta</code>:</p>
<pre><code class="language-java">BookMeta meta = // ...
meta.spigot().setPages(BaseComponent[]);
</code></pre>
</li>
<li>
<p>Sending messages to <code>Player</code> objects:</p>
<pre><code class="language-java">Player player = // ...
player.spigot().sendMessage(BaseComponent[]);
</code></pre>
</li>
<li>
<p>Sending messages to <code>CommandSender</code> objects:</p>
<pre><code class="language-java">CommandSender sender = // ...
sender.spigot().sendMessage(BaseComponent[]);
</code></pre>
</li>
</ul>
<div class="example">
<h3><a class="header" href="#example---book-made-from-raw-json" id="example---book-made-from-raw-json">Example - Book made from raw JSON</a></h3>
<p>Say we want to generate a book using raw JSON. For this example, we'll use the following JSON (generated from <a href="https://minecraftjson.com/">minecraftjson.com</a>) to generate our book:</p>
<pre><code class="language-json">[&quot;&quot;, {
    &quot;text&quot;: &quot;Once upon a time, there was a guy call &quot;
}, {
    &quot;text&quot;: &quot;Skepter&quot;,
    &quot;color&quot;: &quot;light_purple&quot;,
    &quot;hoverEvent&quot;: {
        &quot;action&quot;: &quot;show_entity&quot;,
        &quot;value&quot;: &quot;Skepter&quot;
    }
}, {
    &quot;text&quot;: &quot; and he created the &quot;
}, {
    &quot;text&quot;: &quot;CommandAPI&quot;,
    &quot;underlined&quot;: true,
    &quot;clickEvent&quot;: {
        &quot;action&quot;: &quot;open_url&quot;,
        &quot;value&quot;: &quot;https://github.com/JorelAli/CommandAPI&quot;
    }
}]
</code></pre>
<p>Since we're writing a book, we must ensure that all quotes have been escaped. This can also be performed on the <a href="https://minecraftjson.com/">minecraftjson.com</a> website by selecting &quot;book&quot;: </p>
<pre><code class="language-json">[&quot;[\&quot;\&quot;,{\&quot;text\&quot;:\&quot;Once upon a time, there was a guy call \&quot;},{\&quot;text\&quot;:\&quot;Skepter\&quot;,\&quot;color\&quot;:\&quot;light_purple\&quot;,\&quot;hoverEvent\&quot;:{\&quot;action\&quot;:\&quot;show_entity\&quot;,\&quot;value\&quot;:\&quot;Skepter\&quot;}},{\&quot;text\&quot;:\&quot; and he created the \&quot;},{\&quot;text\&quot;:\&quot;CommandAPI\&quot;,\&quot;underlined\&quot;:true,\&quot;clickEvent\&quot;:{\&quot;action\&quot;:\&quot;open_url\&quot;,\&quot;value\&quot;:\&quot;https://github.com/JorelAli/CommandAPI\&quot;}}]&quot;]
</code></pre>
<p>Now let's define our command. Since book text is typically very large - too large to be entered into a chat, we'll make a command block compatible command by providing a player parameter:</p>
<pre><code class="language-mccmd">/makebook &lt;player&gt; &lt;contents&gt;
</code></pre>
<p>Now we can create our book command. We use the player as the main target by using their name for the author field, as well as their inventory to place the book. We finally construct our book using the <code>.setPages(BaseComponent[])</code> method:</p>
<pre><code class="language-java">new CommandAPICommand(&quot;makebook&quot;)
    .withArguments(new PlayerArgument(&quot;player&quot;))
    .withArguments(new ChatComponentArgument(&quot;contents&quot;))
    .executes((sender, args) -&gt; {
        Player player = (Player) args[0];
        BaseComponent[] arr = (BaseComponent[]) args[1];
        
        //Create book
        ItemStack is = new ItemStack(Material.WRITTEN_BOOK);
        BookMeta meta = (BookMeta) is.getItemMeta(); 
        meta.setTitle(&quot;Custom Book&quot;);
        meta.setAuthor(player.getName());
        meta.spigot().setPages(arr);
        is.setItemMeta(meta);
        
        //Give player the book
        player.getInventory().addItem(is);
    })
    .register();
</code></pre>
</div>
<hr />
<h2><a class="header" href="#chat-argument" id="chat-argument">Chat argument</a></h2>
<blockquote>
<p><strong>Note:</strong></p>
<p>The <code>ChatArgument</code> class is an argument similar to the <a href="./stringarguments.html#greedy-string-argument"><code>GreedyStringArgument</code></a>, in the sense that it has no terminator and must be defined at the end of your <code>List</code> of arguments. For more information on this, please read the section on <a href="./stringarguments.html#greedy-string-argument">Greedy arguments</a>.</p>
</blockquote>
<p>The <code>ChatArgument</code> is basically identical to the <code>GreedyStringArgument</code>, with the added functionality of enabling <em>entity selectors</em>, such as <code>@e</code>, <code>@p</code> and so on. The <code>ChatArgument</code> also returns a <code>BaseComponent[]</code>, similar to the <code>ChatComponentArgument</code>.</p>
<div class="example">
<h3><a class="header" href="#example---sending-personalized-messages-to-players" id="example---sending-personalized-messages-to-players">Example - Sending personalized messages to players</a></h3>
<p>Say we wanted to broadcast a &quot;personalized&quot; message to players on the server. By &quot;personalized&quot;, we mean a command which changes its output depending on who we are sending the output to. Simply put, we want a command of the following syntax:</p>
<pre><code class="language-mccmd">/pbroadcast &lt;message&gt;
</code></pre>
<p>Say we're on a server with 2 players: <em>Bob</em> and <em>Michael</em>. If I were to use the following command:</p>
<pre><code class="language-mccmd">/pbroadcast Hello @p
</code></pre>
<p><em>Bob</em> would receive the message &quot;Hello Bob&quot;, whereas <em>Michael</em> would receive the message &quot;Hello Michael&quot;. We can use the <code>ChatArgument</code> to create this &quot;personalized&quot; broadcast:</p>
<pre><code class="language-java">new CommandAPICommand(&quot;pbroadcast&quot;)
    .withArguments(new ChatArgument(&quot;message&quot;))
    .executes((sender, args) -&gt; {
        BaseComponent[] message = (BaseComponent[]) args[0];
    
        //Broadcast the message to everyone on the server
        Bukkit.getServer().spigot().broadcast(message);
    })
    .register();
</code></pre>
</div>
                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="chatarguments.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fas fa-chevron-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="adventurechatarguments.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fas fa-chevron-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a rel="prev" href="chatarguments.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fas fa-chevron-left"></i>
                    </a>
                

                
                    <a rel="next" href="adventurechatarguments.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fas fa-chevron-right"></i>
                    </a>
                
            </nav>

        </div>

        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        
        <script type="text/javascript" src="sidebar.js"></script>
        
        <script type="text/javascript" src="mccmd.js"></script>
        

        

    </body>
</html>
