<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js rust">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Brigadier + CommandAPI - CommandAPI Documentation v5.3</title>
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
        <link rel="stylesheet" href="style.css">
        

        
        <!-- MathJax -->
        <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "rust";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('rust')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item affix "><a href="intro.html">Introduction</a></li><li class="spacer"></li><li class="chapter-item affix "><li class="part-title">Server Owner Usage</li><li class="chapter-item "><a href="installation.html"><strong aria-hidden="true">1.</strong> Installation for server owners</a></li><li class="chapter-item "><a href="config.html"><strong aria-hidden="true">2.</strong> Configuration for server owners</a></li><li class="chapter-item "><a href="conversionforowners.html"><strong aria-hidden="true">3.</strong> Command conversion</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="conversionforownerssingle.html"><strong aria-hidden="true">3.1.</strong> Single command conversion</a></li><li class="chapter-item "><a href="conversionforownerssingleargs.html"><strong aria-hidden="true">3.2.</strong> Single command conversion (with arguments)</a></li><li class="spacer"></li></ol></li><li class="chapter-item "><li class="part-title">CommandAPI Setup</li><li class="chapter-item "><a href="quickstart.html"><strong aria-hidden="true">4.</strong> Setting up your development environment</a></li><li class="chapter-item "><a href="shading.html"><strong aria-hidden="true">5.</strong> Shading the CommandAPI in your plugins</a></li><li class="chapter-item "><a href="annotationsetup.html"><strong aria-hidden="true">6.</strong> Using the annotation system</a></li><li class="chapter-item affix "><li class="part-title">Creating Commands</li><li class="chapter-item "><a href="commandregistration.html"><strong aria-hidden="true">7.</strong> Command registration</a></li><li class="chapter-item "><a href="commandexecutors.html"><strong aria-hidden="true">8.</strong> Command executors</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="normalexecutors.html"><strong aria-hidden="true">8.1.</strong> Normal command executors</a></li><li class="chapter-item "><a href="proxysender.html"><strong aria-hidden="true">8.2.</strong> Proxied commandsenders</a></li><li class="chapter-item "><a href="native.html"><strong aria-hidden="true">8.3.</strong> Native commandsenders</a></li><li class="chapter-item "><a href="resultingcommandexecutors.html"><strong aria-hidden="true">8.4.</strong> Resulting command executors</a></li><li class="chapter-item "><a href="commandfailures.html"><strong aria-hidden="true">8.5.</strong> Handling command failures</a></li></ol></li><li class="chapter-item "><a href="arguments.html"><strong aria-hidden="true">9.</strong> Arguments (in general)</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="argumentsuggestions.html"><strong aria-hidden="true">9.1.</strong> Argument suggestions</a></li><li class="chapter-item "><a href="safeargumentsuggestions.html"><strong aria-hidden="true">9.2.</strong> Safe argument suggestions</a></li><li class="chapter-item "><a href="tooltips.html"><strong aria-hidden="true">9.3.</strong> Argument suggestions with tooltips</a></li><li class="chapter-item "><a href="listed.html"><strong aria-hidden="true">9.4.</strong> Listed arguments</a></li></ol></li><li class="chapter-item "><a href="argumenttypes.html"><strong aria-hidden="true">10.</strong> Argument types</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="primitivearguments.html"><strong aria-hidden="true">10.1.</strong> Primitive arguments</a></li><li class="chapter-item "><a href="rangedarguments.html"><strong aria-hidden="true">10.2.</strong> Ranged arguments</a></li><li class="chapter-item "><a href="stringarguments.html"><strong aria-hidden="true">10.3.</strong> String arguments</a></li><li class="chapter-item "><a href="positionargs.html"><strong aria-hidden="true">10.4.</strong> Positional arguments</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="locationargument.html"><strong aria-hidden="true">10.4.1.</strong> Location arguments</a></li><li class="chapter-item "><a href="rotationargs.html"><strong aria-hidden="true">10.4.2.</strong> Rotation arguments</a></li><li class="chapter-item "><a href="axisarg.html"><strong aria-hidden="true">10.4.3.</strong> AxisArguments</a></li></ol></li><li class="chapter-item "><a href="chatarguments.html"><strong aria-hidden="true">10.5.</strong> Chat arguments</a></li><li class="chapter-item "><a href="entityarguments.html"><strong aria-hidden="true">10.6.</strong> Entity &amp; player arguments</a></li><li class="chapter-item "><a href="scoreboardargs.html"><strong aria-hidden="true">10.7.</strong> Scoreboard arguments</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="scoreboardarguments.html"><strong aria-hidden="true">10.7.1.</strong> Scoreboard arguments</a></li><li class="chapter-item "><a href="objectivearguments.html"><strong aria-hidden="true">10.7.2.</strong> Objective arguments</a></li><li class="chapter-item "><a href="teamarguments.html"><strong aria-hidden="true">10.7.3.</strong> Team arguments</a></li></ol></li><li class="chapter-item "><a href="miscargs.html"><strong aria-hidden="true">10.8.</strong> Miscellaneous arguments</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="angleargument.html"><strong aria-hidden="true">10.8.1.</strong> Angle arguments</a></li><li class="chapter-item "><a href="advancementargument.html"><strong aria-hidden="true">10.8.2.</strong> Advancement arguments</a></li><li class="chapter-item "><a href="biomeargument.html"><strong aria-hidden="true">10.8.3.</strong> Biome arguments</a></li><li class="chapter-item "><a href="blockstatearguments.html"><strong aria-hidden="true">10.8.4.</strong> BlockState arguments</a></li><li class="chapter-item "><a href="enchantmentargument.html"><strong aria-hidden="true">10.8.5.</strong> Enchantment arguments</a></li><li class="chapter-item "><a href="environmentargs.html"><strong aria-hidden="true">10.8.6.</strong> Environment arguments</a></li><li class="chapter-item "><a href="itemstackarguments.html"><strong aria-hidden="true">10.8.7.</strong> Itemstack arguments</a></li><li class="chapter-item "><a href="loottableargument.html"><strong aria-hidden="true">10.8.8.</strong> LootTable argument</a></li><li class="chapter-item "><a href="mathoperationarguments.html"><strong aria-hidden="true">10.8.9.</strong> MathOperation arguments</a></li><li class="chapter-item "><a href="particlearguments.html"><strong aria-hidden="true">10.8.10.</strong> Particle arguments</a></li><li class="chapter-item "><a href="potionarguments.html"><strong aria-hidden="true">10.8.11.</strong> Potion effect arguments</a></li><li class="chapter-item "><a href="recipeargument.html"><strong aria-hidden="true">10.8.12.</strong> Recipe arguments</a></li><li class="chapter-item "><a href="soundargument.html"><strong aria-hidden="true">10.8.13.</strong> Sound arguments</a></li><li class="chapter-item "><a href="timeargs.html"><strong aria-hidden="true">10.8.14.</strong> Time arguments</a></li><li class="chapter-item "><a href="uuidargs.html"><strong aria-hidden="true">10.8.15.</strong> UUID arguments</a></li></ol></li><li class="chapter-item "><a href="predicateargs.html"><strong aria-hidden="true">10.9.</strong> Predicate arguments</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="blockpredicateargs.html"><strong aria-hidden="true">10.9.1.</strong> Block predicate arguments</a></li><li class="chapter-item "><a href="itemstackpredicateargs.html"><strong aria-hidden="true">10.9.2.</strong> ItemStack predicate arguments</a></li></ol></li><li class="chapter-item "><a href="nbtarguments.html"><strong aria-hidden="true">10.10.</strong> NBT arguments</a></li><li class="chapter-item "><a href="litargs.html"><strong aria-hidden="true">10.11.</strong> Literal arguments</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="literalarguments.html"><strong aria-hidden="true">10.11.1.</strong> Literal arguments</a></li><li class="chapter-item "><a href="multilitargs.html"><strong aria-hidden="true">10.11.2.</strong> Multi literal arguments</a></li></ol></li><li class="chapter-item "><a href="customarguments.html"><strong aria-hidden="true">10.12.</strong> Custom arguments</a></li></ol></li><li class="chapter-item "><a href="functions.html"><strong aria-hidden="true">11.</strong> Functions &amp; Tags</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="functionsetup.html"><strong aria-hidden="true">11.1.</strong> Setting up functions &amp; tags</a></li><li class="chapter-item "><a href="simplefunctionwrapper.html"><strong aria-hidden="true">11.2.</strong> The SimpleFunctionWrapper class</a></li><li class="chapter-item "><a href="functionwrapper.html"><strong aria-hidden="true">11.3.</strong> The FunctionWrapper class</a></li><li class="chapter-item "><a href="functionarguments.html"><strong aria-hidden="true">11.4.</strong> Function arguments</a></li></ol></li><li class="chapter-item "><a href="permissions.html"><strong aria-hidden="true">12.</strong> Permissions</a></li><li class="chapter-item "><a href="requirements.html"><strong aria-hidden="true">13.</strong> Requirements</a></li><li class="chapter-item "><a href="aliases.html"><strong aria-hidden="true">14.</strong> Aliases</a></li><li class="chapter-item "><a href="subcommands.html"><strong aria-hidden="true">15.</strong> Subcommands</a></li><li class="chapter-item affix "><li class="part-title">Annotation-based Commands</li><li class="chapter-item "><a href="annotationsintro.html"><strong aria-hidden="true">16.</strong> Annotation-based commands</a></li><li class="chapter-item "><a href="annotations.html"><strong aria-hidden="true">17.</strong> Annotations</a></li><li class="chapter-item "><a href="registeringannotations.html"><strong aria-hidden="true">18.</strong> Registering annotation-based commands</a></li><li class="chapter-item affix "><li class="part-title">CommandAPI Utilities</li><li class="chapter-item "><a href="conversion.html"><strong aria-hidden="true">19.</strong> Command conversion</a></li><li class="chapter-item affix "><li class="part-title">Internal CommandAPI</li><li class="chapter-item "><a href="internal.html"><strong aria-hidden="true">20.</strong> Internal CommandAPI</a></li><li class="chapter-item expanded "><a href="brigadier.html" class="active"><strong aria-hidden="true">21.</strong> Brigadier + CommandAPI</a></li><li class="spacer"></li><li class="chapter-item affix "><li class="part-title">Java Tips</li><li class="chapter-item "><a href="predicatetips.html"><strong aria-hidden="true">22.</strong> Predicate tips</a></li><li class="spacer"></li><li class="chapter-item affix "><a href="upgrading.html">Upgrading guide</a></li><li class="chapter-item affix "><a href="incompatibleversions.html">Incompatible version information</a></li><li class="chapter-item affix "><a href="troubleshooting.html">Troubleshooting</a></li><li class="spacer"></li><li class="chapter-item affix "><a href="afterword.html">Afterword</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="skepter">Skepter Likes Purple</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">CommandAPI Documentation v5.3</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://www.jorel.dev/CommandAPI/" title="Back to main CommandAPI page" aria-label="Back to main CommandAPI page">
                            <i id="home-button" class="fa fa-home"></i>
                        </a>
                        <a href="https://ko-fi.com/jorelali" title="Donate (ko-fi)" aria-label="Donate (ko-fi)">
                            <i id="donate-button" class="fa fa-gift"></i>
                        </a>
                        
                        <a href="https://github.com/JorelAli/CommandAPI" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <!-- Page table of contents -->
                        <div class="sidetoc"><nav class="pagetoc"></nav></div>
                        
                        <h1><a class="header" href="#brigadier--commandapi" id="brigadier--commandapi">Brigadier + CommandAPI</a></h1>
<p>So far, we've been using only the CommandAPI to register commands. As a result, this makes the CommandAPI's features limited by whatever the CommandAPI has implemented. To push past these limits, the CommandAPI includes some extra methods to help with invoking brigadier methods. Of course, to use these methods, brigadier is required. The brigadier dependency's installation instructions can be found <a href="https://github.com/Mojang/brigadier#installation">here</a>.</p>
<blockquote>
<p><strong>Developer's Note:</strong></p>
<p>For those that are unaware, <a href="https://github.com/Mojang/brigadier">brigadier</a> is Mojang's command parser and dispatching framework. This is basically what the CommandAPI wraps around and is the main underlying source of its functionality.</p>
</blockquote>
<p>The CommandAPI has been designed in such a way that you shouldn't have to access NMS in order to make use of the more &quot;advanced&quot; arguments and features - if you find that NMS is required to do something, <a href="https://github.com/JorelAli/CommandAPI/issues/new/choose">please make a new issue</a>!</p>
<hr />
<h2><a class="header" href="#brigadier-support-functions" id="brigadier-support-functions">Brigadier support functions</a></h2>
<p>The CommandAPI offers the following methods in the <code>dev.jorel.commandapi.Brigadier</code> class:</p>
<pre><code class="language-java">public static CommandDispatcher getCommandDispatcher();
public static RootCommandNode getRootNode();
public static LiteralArgumentBuilder fromLiteralArgument(LiteralArgument literalArgument);
public static RedirectModifier fromPredicate(BiPredicate&lt;CommandSender, Object[]&gt; predicate, List&lt;Argument&gt; args);
public static Command fromCommand(CommandAPICommand command);
public static RequiredArgumentBuilder fromArgument(List&lt;Argument&gt; args, String nodeName);
public static RequiredArgumentBuilder fromArgument(Argument argument);
public static SuggestionProvider toSuggestions(String nodeName, List&lt;Argument&gt; args);
</code></pre>
<p>Briefly, here's what each of these functions do (you can view the JavaDocs for more information):</p>
<table><thead><tr><th>Method</th><th>Description</th></tr></thead><tbody>
<tr><td><code>getCommandDispatcher</code></td><td>Returns the Minecraft command dispatcher graph</td></tr>
<tr><td><code>getRootNode</code></td><td>Returns the root node of the command dispatcher.<br>This is equivalent to using<br /><code>getCommandDispatcher().getRoot();</code></td></tr>
<tr><td><code>fromLiteralArgument</code></td><td>Creates a <code>LiteralArgumentBuilder</code> from a <code>LiteralArgument</code></td></tr>
<tr><td><code>fromPredicate</code></td><td>Converts a predicate and some arguments into a <code>RedirectModifier</code>. This can be used for the <code>fork</code> method in brigadier's <code>ArgumentBuilder</code></td></tr>
<tr><td><code>fromCommand</code></td><td>Converts a <code>CommandAPICommand</code> into a brigadier <code>Command</code> object</td></tr>
<tr><td><code>fromArgument</code></td><td>Converts an argument, or a list of arguments, into a <code>RequiredArgumentBuilder</code></td></tr>
<tr><td><code>toSuggestions</code></td><td>Converts an argument's suggestions into brigadier's <code>SuggestionProvider</code>, with a list of previously declared arguments</td></tr>
</tbody></table>
<hr />
<h2><a class="header" href="#examples" id="examples">Examples</a></h2>
<p>I hope these examples help understand how the CommandAPI can help with registering more &quot;powerful&quot; commands with the use of brigadier as well! Please bear with with it - these examples can be long, but I'm certain that they've been explained well and will be useful!</p>
<div class="example">
<h3><a class="header" href="#example---adding-a-predicate-to-the-execute-command" id="example---adding-a-predicate-to-the-execute-command">Example - Adding a predicate to the 'execute' command</a></h3>
<p>Say we wanted to add a predicate to the <code>/execute</code> command. In this example, we'll create a predicate which handles random chances. To illustrate this, we want to be able to run commands such as:</p>
<pre><code>/execute if randomchance 1 4 run say Hello!
</code></pre>
<p>In this scenario, if we ran this command, we would expect &quot;Hello!&quot; to appear in the chat with a \(\frac{1}{4}\) chance. In particular, this is what we're trying to achieve:</p>
<ul>
<li>We want to create a predicate (true/false value) for the following syntax:
<pre><code>randomchance &lt;numerator&gt; &lt;denominator&gt;
</code></pre>
</li>
</ul>
<ul>
<li>
<p>We also want this predicate to come <em>after</em> <code>execute if</code>:</p>
<p>\[
\texttt{execute}\\ 
\downarrow\\
\texttt{if}\\
\downarrow\\
\texttt{randomchance &lt;numerator}\texttt{&gt; &lt;denominator}\texttt{&gt;}
\]</p>
</li>
<li>
<p>After entering our predicate, we want to route back to <code>execute</code> (because the argument after <code>execute</code> is <code>run</code>, which is used in our example command above):</p>
<p>\[
\texttt{execute}\\ 
\downarrow\\
\texttt{if}\\
\downarrow\\
\texttt{randomchance &lt;numerator}\texttt{&gt; &lt;denominator}\texttt{&gt;}\\
\downarrow\\
\texttt{execute}
\]</p>
</li>
</ul>
<hr />
<h4><a class="header" href="#writing-the-code" id="writing-the-code">Writing the code</a></h4>
<p>Now that we've established what we want, we can finally begin writing the code! First we want to create a literal <code>randomchance</code>. It's a literal because literal values don't change (similar to say <code>run</code> or <code>if</code> from the <code>/execute</code> command). To create a literal, we'll use the <code>fromLiteralArgument</code> method described above, and then build it using the <code>.build()</code> method:</p>
<pre><code class="language-java">//Register literal &quot;randomchance&quot;
LiteralCommandNode randomChance = Brigadier.fromLiteralArgument(new LiteralArgument(&quot;randomchance&quot;)).build();
</code></pre>
<p>With that completed, we can now create our &quot;argument&quot; to this predicate. To do this, we'll use the regular declaration of arguments that we would normally use for commands. In this example, because we're computing \(\frac{numerator}{denominator}\), we want our numerator to be 0 or greater and our denominator to be 1 or greater (we don't want any negative numbers or division by zero!):</p>
<pre><code class="language-java">//Declare arguments like normal
List&lt;Argument&gt; arguments = new ArrayList&lt;&gt;();
arguments.add(new IntegerArgument(&quot;numerator&quot;, 0));
arguments.add(new IntegerArgument(&quot;denominator&quot;, 1));
</code></pre>
<p>Now we're going to get into the very nitty-gritty part - the predicate declaration. First, we'll create some variables <code>numerator</code> and <code>denominator</code> to represent the brigadier instances of these arguments. This can be handled by using the <code>Brigadier.argBuildOf</code> function:</p>
<pre><code class="language-java">ArgumentBuilder numerator = Brigadier.fromArgument(arguments, &quot;numerator&quot;);
ArgumentBuilder denominator = Brigadier.fromArgument(arguments, &quot;denominator&quot;)
</code></pre>
<p>Now we'll define our predicate. Since this is sort of a &quot;meta-command&quot; (it directly affects the outcome of the <code>run</code> command), we need to use the <code>ArgumentBuilder</code>'s <code>fork</code> method. Remember that after we run this predicate, we want to link back to <code>execute</code> again, so our first argument is the <code>CommandNode</code> for <code>execute</code>, which we can get using <code>Brigadier.getRootNode().getChild(&quot;execute&quot;)</code>. Then, we can simply use <code>Brigadier.fromPredicate</code> to finish our declaration:</p>
<pre><code class="language-java">ArgumentBuilder denominator = Brigadier.fromArgument(arguments, &quot;denominator&quot;)
    //Fork redirecting to &quot;execute&quot; and state our predicate
    .fork(Brigadier.getRootNode().getChild(&quot;execute&quot;), Brigadier.fromPredicate((sender, args) -&gt; {
        //Parse arguments like normal
        int num = (int) args[0];
        int denom = (int) args[1];
        
        //Return boolean with a num/denom chance
        return Math.ceil(Math.random() * (double) denom) &lt;= (double) num;
    }, arguments));
</code></pre>
<p>Finally, we can now link everything up. We know that <code>numerator</code> comes first, <strong>then</strong> <code>denominator</code>, so we have to have <code>numerator.then(denominator)</code>. We also know that these arguments are the <strong>children</strong> of the <code>randomChance</code> literal, so we use the following code to state all of this:</p>
<pre><code class="language-java">//Add &lt;numerator&gt; &lt;denominator&gt; as a child of randomchance
randomChance.addChild(numerator.then(denominator).build());
</code></pre>
<p>Finally, we &quot;register&quot; the command. In this case, we're actually just adding the <code>randomChance</code> node under \(\texttt{execute}\rightarrow\texttt{if}\), which we can add using the following code:</p>
<pre><code class="language-java">//Add (randomchance &lt;numerator&gt; &lt;denominator&gt;) as a child of (execute -&gt; if)
Brigadier.getRootNode().getChild(&quot;execute&quot;).getChild(&quot;if&quot;).addChild(randomChance);
</code></pre>
<hr />
<h4><a class="header" href="#code-summary" id="code-summary">Code summary</a></h4>
<p>So, hopefully that wasn't too confusing! If you're still lost, here's the whole code that we wrote:</p>
<pre><code class="language-java">//Register literal &quot;randomchance&quot;
LiteralCommandNode randomChance = Brigadier.fromLiteralArgument(new LiteralArgument(&quot;randomchance&quot;)).build();

//Declare arguments like normal
List&lt;Argument&gt; arguments = new ArrayList&lt;&gt;();
arguments.add(new IntegerArgument(&quot;numerator&quot;, 0));
arguments.add(new IntegerArgument(&quot;denominator&quot;, 1));

//Get brigadier argument objects
ArgumentBuilder numerator = Brigadier.fromArgument(arguments, &quot;numerator&quot;);
ArgumentBuilder denominator = Brigadier.fromArgument(arguments, &quot;denominator&quot;)
    //Fork redirecting to &quot;execute&quot; and state our predicate
    .fork(Brigadier.getRootNode().getChild(&quot;execute&quot;), Brigadier.fromPredicate((sender, args) -&gt; {
        //Parse arguments like normal
        int num = (int) args[0];
        int denom = (int) args[1];
        
        //Return boolean with a num/denom chance
        return Math.ceil(Math.random() * (double) denom) &lt;= (double) num;
    }, arguments));

//Add &lt;numerator&gt; &lt;denominator&gt; as a child of randomchance
randomChance.addChild(numerator.then(denominator).build());

//Add (randomchance &lt;numerator&gt; &lt;denominator&gt;) as a child of (execute -&gt; if)
Brigadier.getRootNode().getChild(&quot;execute&quot;).getChild(&quot;if&quot;).addChild(randomChance);
</code></pre>
</div>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="internal.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="predicatetips.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a rel="prev" href="internal.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a rel="next" href="predicatetips.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        
        <script type="text/javascript" src="sidebar.js"></script>
        

        

    </body>
</html>
